{% if section.settings.show-sezzle-widget or request.design_mode %}
<script type="text/javascript"> document.sezzleConfig = {
				"configGroups": [{
					"targetXPath": ".product__info-container/.price--on-sale/.price__sale/.price-item--sale",
					"renderToPath": "../../../..",
					"urlMatch": "product",
					"relatedElementActions": [{
					"relatedPath": "../..",
					"initialAction": function(r,w){
					if(getComputedStyle(r).display === "none"){
					w.style.display = "none"
					}
					if(w.nextElementSibling && w.nextElementSibling.className.indexOf("sezzle-shopify-info-button") > -1){
					w.nextElementSibling.style.display = "none"
					}
					}
					}]
				},{
					"targetXPath": ".product__info-container/.price__regular/.price-item--regular",
					"renderToPath": "../../../..",
					"urlMatch": "product",
					"relatedElementActions": [{
					"relatedPath": "../../../../..",
					"initialAction": function(r,w){
					if(r.querySelector(".price--on-sale")){
					w.style.display = "none"
					}
					var allwidgets = document.getElementsByClassName("sezzle-shopify-info-button");
					for (let i = 0; i < allwidgets.length; i++){
					widgetIndex = allwidgets[i].className.split("sezzlewidgetindex-")[1].split(" ")[0];
					if(!document.querySelector('[data-sezzleindex="'+widgetIndex+'"]')) {
					allwidgets[i].style.display = "none"
					}
					}
					}
					}]
				},{
					"targetXPath": ".totals__subtotal-value",
					"urlMatch": "cart",
					"alignment": "right",
					"alignmentSwitchMinWidth": 768,
					"alignmentSwitchType": "center"
				}]
				} </script>
<script src="https://widget.sezzle.com/v1/javascript/price-widget?uuid=2aa08a52-e9cf-4795-b501-0001ad5c4329"></script>
{% endif %}

<style>
	.sezzle-shopify-info-button {
	{% if request.design_mode and section.settings.show-sezzle-widget == false %}display: none !important{% endif %}
}
.sezzle-shopify-info-button .sezzle-button-text {
	{% unless section.settings.color == "inherit" %}color: {{ section.settings.color }} !important;{% endunless %}
	{% unless section.settings.font-size == "inherit" %}font-size: {{ section.settings.font-size }}px !important;{% endunless %}
	{% unless section.settings.font-family == "inherit" %}font-family: {{ section.settings.font-family }} !important;{% endunless %}
	text-align: {% if window.location.pathname == "/cart" and section.settings.cart-page-alignment != "auto"%} {{ section.settings.cart-page-alignment }} !important;{% elsif section.settings.product-page-alignment != "auto" %} {{ section.settings.product-page-alignment }} !important; {% endif %}
	{% if request.design_mode %}max-width: unset !important;{% endif %}
}
</style>

{% schema %}
{
	"name": "Sezzle Widget",
	"settings": [
		{
		"id": "show-sezzle-widget",
		"type": "checkbox",
		"label": {"en": "Show Sezzle widget"},
		"default": true
		},
		{
		"id": "color",
		"type": "select",
		"label": {"en": "Text Color"},
		"default": "inherit",
		"options": [
			{
				"value": "inherit",
				"label": "inherit"
			},
			{
				"value": "black",
				"label": "black"
			},
			{
				"value": "white",
				"label": "white"
			}
		]
		},
		{
		"id": "font-size",
		"type": "range",
		"label": {"en": "Font Size"},
		"default": 14,
		"min": 9,
		"max": 18,
		"step": 0.5,
		"unit": {"en": "px"}
		},
		{
		"id": "font-family",
		"type": "select",
		"label": {"en": "Font Family"},
		"default": "inherit",
		"options": [
			{
				"value": "inherit",
				"label": "inherit"
			},
			{
				"value": "Mono",
				"label": "Mono"
			},
			{
				"value": "Archivo, sans-serif",
				"label": "Archivo"
			},
			{
				"value": "Arimo, sans-serif",
				"label": "Arimo"
			},
			{
				"value": "Asap, sans-serif",
				"label": "Asap"
			},
			{
				"value": "Assistant, sans-serif",
				"label": "Assistant"
			},
			{
				"value": "'Avenir Next', sans-serif",
				"label": "Avenir Next"
			},
			{
				"value": "'Avenir Next Rounded', sans-serif",
				"label": "Avenir Next Rounded"
			},
			{
				"value": "Cabin, sans-serif",
				"label": "Cabin"
			},
			{
				"value": "'Century Gothic', sans-serif",
				"label": "Century Gothic"
			},
			{
				"value": "Chivo, sans-serif",
				"label": "Chivo"
			},
			{
				"value": "'DIN Neuzeit Grotesk Light', sans-serif",
				"label": "DIN Neuzeit Grotesk Light"
			},
			{
				"value": "'DIN Next', sans-serif",
				"label": "DIN Next"
			},
			{
				"value": "'FF Meta', sans-serif",
				"label": "FF Meta"
			},
			{
				"value": "'FF Tisa Sans', sans-serif",
				"label": "FF Tisa Sans"
			},
			{
				"value": "'Fira Sans', sans-serif",
				"label": "Fira Sans"
			},
			{
				"value": "Futura, sans-serif",
				"label": "Futura"
			},
			{
				"value": "'Geometric 415', sans-serif",
				"label": "Geometric 415"
			},
			{
				"value": "'Gill Sans Nova', sans-serif",
				"label": "Gill Sans Nova"
			},
			{
				"value": "'Harmonia Sans', sans-serif",
				"label": "Harmonia Sans"
			},
			{
				"value": "Helvetica, sans-serif",
				"label": "Helvetica"
			},
			{
				"value": "'Humanist 521', sans-serif",
				"label": "Humanist 521"
			},
			{
				"value": "'IBM Plex Sans', sans-serif",
				"label": "IBM Plex Sans"
			},
			{
				"value": "'ITC Franklin Gothic', sans-serif",
				"label": "ITC Franklin Gothic"
			},
			{
				"value": "'ITC Johnston Medium', sans-serif",
				"label": "ITC Johnston Medium"
			},
			{
				"value": "'ITC Stone Humanist Medium', sans-serif",
				"label": "ITC Stone Humanist Medium"
			},
			{
				"value": "'Joanna Sans Nova', sans-serif",
				"label": "Joanna Sans Nova"
			},
			{
				"value": "Karla, sans-serif",
				"label": "Karla"
			},
			{
				"value": "Lato, sans-serif",
				"label": "Lato"
			},
			{
				"value": "'Libre Franklin, sans-serif",
				"label": "Libre Franklin"
			},
			{
				"value": "Madera, sans-serif",
				"label": "Madera"
			},
			{
				"value": "'Monotype News Gothic', sans-serif",
				"label": "Monotype News Gothic"
			},
			{
				"value": "Montserrat, sans-serif",
				"label": "Montserrat"
			},
			{
				"value": "Muli, sans-serif",
				"label": "Muli"
			},
			{
				"value": "'Neue Haas Unica', sans-serif",
				"label": "Neue Haas Unica"
			},
			{
				"value": "'Neue Plak', sans-serif",
				"label": "Neue Plak"
			},
			{
				"value": "'Neuzeit Office', sans-serif",
				"label": "Neuzeit Office"
			},
			{
				"value": "'Neuzeit Office Soft Rounded', sans-serif",
				"label": "Neuzeit Office Soft Rounded"
			},
			{
				"value": "'Neuzeit S', sans-serif",
				"label": "Neuzeit S"
			},
			{
				"value": "Nunito, sans-serif",
				"label": "Nunito"
			},
			{
				"value": "'Nunito Sans', sans-serif",
				"label": "Nunito Sans"
			},
			{
				"value": "'Open Sans', sans-serif",
				"label": "Open Sans"
			},
			{
				"value": "Oxygen, sans-serif",
				"label": "Oxygen"
			},
			{
				"value": "'PT Sans', sans-serif",
				"label": "PT Sans"
			},
			{
				"value": "Poppins, sans-serif",
				"label": "Poppins"
			},
			{
				"value": "'Quattrocento Sans', sans-serif",
				"label": "Quattrocento Sans"
			},
			{
				"value": "Questrial, sans-serif",
				"label": "Questrial"
			},
			{
				"value": "Quicksand, sans-serif",
				"label": "Quicksand"
			},
			{
				"value": "'Quire Sans', sans-serif",
				"label": "Quire Sans"
			},
			{
				"value": "Roboto, sans-serif",
				"label": "Roboto"
			},
			{
				"value": "Rubik, sans-serif",
				"label": "Rubik"
			},
			{
				"value": "Slate, sans-serif",
				"label": "Slate"
			},
			{
				"value": "'Source Sans Pro', sans-serif",
				"label": "Source Sans Pro"
			},
			{
				"value": "'Swiss 721', sans-serif",
				"label": "Swiss 721"
			},
			{
				"value": "'Twentieth Century', sans-serif",
				"label": "Twentieth Century"
			},
			{
				"value": "'Univers Next', sans-serif",
				"label": "Univers Next"
			},
			{
				"value": "Varela, sans-serif",
				"label": "Varela"
			},
			{
				"value": "'Varela Round', sans-serif",
				"label": "Varela Round"
			},
			{
				"value": "'Verdana Pro', sans-serif",
				"label": "Verdana Pro"
			},
			{
				"value": "Zurich, sans-serif",
				"label": "Zurich"
			}
		]
		},
		{
		"id": "product-page-alignment",
		"type": "select",
		"label": {"en": "Product Page Alignment"},
		"default": "auto",
		"options": [
			{
				"value": "auto",
				"label": "auto"
			},
			{
				"value": "left",
				"label": "left"
			},
			{
				"value": "center",
				"label": "center"
			},
			{
				"value": "right",
				"label": "right"
			}
		]
		},
		{
		"id": "cart-page-alignment",
		"type": "select",
		"label": {"en": "Cart Page Alignment"},
		"default": "auto",
		"options": [
			{
				"value": "auto",
				"label": "auto"
			},
			{
				"value": "left",
				"label": "left"
			},
			{
				"value": "center",
				"label": "center"
			},
			{
				"value": "right",
				"label": "right"
			}
		]
		}
	]
	}
{% endschema %}
